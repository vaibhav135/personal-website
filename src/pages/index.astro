---
import DashboardLayout from '../layouts/DashboardLayout.astro';
import { siteConfig } from '../data/site';

const menuItems = [
  { href: '/about',      file: 'about.ts',        desc: 'Who I am',           icon: '>' },
  { href: '/blog',       file: 'blog/',            desc: 'My writing',         icon: '>' },
  { href: '/experience', file: 'experience.lua',   desc: 'Where I\'ve worked', icon: '>' },
  { href: '/contact',    file: 'contact.sh',       desc: 'Say hello',          icon: '>' },
];

// Name banner (green) — ANSI Shadow figlet, 6 lines
const nameBanner = String.raw`██╗   ██╗ █████╗ ██╗██████╗ ██╗  ██╗ █████╗ ██╗   ██╗
██║   ██║██╔══██╗██║██╔══██╗██║  ██║██╔══██╗██║   ██║
██║   ██║███████║██║██████╔╝███████║███████║██║   ██║
╚██╗ ██╔╝██╔══██║██║██╔══██╗██╔══██║██╔══██║╚██╗ ██╔╝
 ╚████╔╝ ██║  ██║██║██████╔╝██║  ██║██║  ██║ ╚████╔╝ 
  ╚═══╝  ╚═╝  ╚═╝╚═╝╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝  ╚═══╝  `;

// Chilling cat (cyan) — 3 lines, sits next to bottom of name
const catArt = `    |\\__/,|   (\`\\
  _.|o o  |_   ) )
-(((---(((--------`;
---

<DashboardLayout title="Welcome">
  <div class="dash">
    <!-- ASCII Art -->
    <div class="dash__art anim-fade-up" style="--i: 0" aria-hidden="true">
      <pre class="dash__art-name">{nameBanner}</pre>
      <pre class="dash__art-cat">{catArt}</pre>
    </div>

    <!-- Name & Title -->
    <div class="dash__header anim-fade-up" style="--i: 2">
      <h1 class="dash__name">{siteConfig.name}</h1>
      <p class="dash__title">{siteConfig.title}</p>
    </div>

    <!-- Navigation Menu -->
    <nav class="dash__menu" aria-label="Quick navigation">
      {menuItems.map((item, i) => (
        <a href={item.href} class="dash__item anim-fade-up" style={`--i: ${i + 4}`}>
          <span class="dash__icon">{item.icon}</span>
          <span class="dash__file">{item.file}</span>
          <span class="dash__desc">{item.desc}</span>
        </a>
      ))}
    </nav>

    <!-- Featured Post -->
    <a href="/blog/hello-world" class="dash__featured anim-fade-up" style="--i: 9">
      <span class="dash__featured-label">Start here</span>
      <span class="dash__featured-file">hello-world.md</span>
    </a>

    <!-- Footer -->
    <div class="dash__footer anim-fade-up" style="--i: 10">
      <p class="dash__quote">"Talk is cheap. Show me the code."</p>
      <p class="dash__attr">&mdash; Linus Torvalds</p>
      <p class="dash__version">NVIM v0.10.0 &middot; Astro 5 &middot; Dracula &middot; press <kbd>:</kbd> for commands</p>
    </div>
  </div>
</DashboardLayout>

<style>
  .dash {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.8rem;
    text-align: center;
    max-width: 600px;
    width: 100%;
  }

  /* ---- ASCII Art ---- */

  .dash__art {
    display: flex;
    align-items: flex-end;
    justify-content: center;
    gap: 1.5rem;
    user-select: none;
  }

  .dash__art pre {
    font-size: 0.72rem;
    margin: 0;
  }

  .dash__art-name {
    color: var(--green);
    font-family: "Courier New", Courier, monospace;
    line-height: 1;
    letter-spacing: 0;
    display: inline-block;
    font-variant-ligatures: none;
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
  }
  .dash__art-cat {
    color: var(--cyan);
    line-height: 1.35;
  }

  /* ---- Header ---- */

  .dash__header {
    display: flex;
    flex-direction: column;
    gap: 0.3rem;
  }

  .dash__name {
    color: var(--fg);
    font-size: 1.5rem;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  .dash__title {
    color: var(--purple);
    font-style: italic;
    font-size: 0.95rem;
  }

  /* ---- Menu ---- */

  .dash__menu {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    width: 100%;
    max-width: 380px;
  }

  .dash__item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.55rem 1rem;
    border-radius: 4px;
    text-decoration: none;
    color: var(--fg);
    transition: background 0.12s ease, transform 0.12s ease;
  }

  .dash__item:hover {
    background: var(--current-line);
    text-decoration: none;
    color: var(--fg);
    transform: translateX(4px);
  }

  .dash__icon {
    color: var(--purple);
    font-weight: 700;
    flex-shrink: 0;
    width: 1.2ch;
  }

  .dash__file {
    color: var(--green);
    flex: 0 0 auto;
    width: 18ch;
    text-align: left;
  }

  .dash__desc {
    color: var(--comment);
    font-size: 0.85rem;
    text-align: left;
  }

  /* ---- Featured Post ---- */

  .dash__featured {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 1rem;
    border: 1px dashed var(--current-line);
    border-radius: 4px;
    text-decoration: none;
    color: var(--fg);
    font-size: 0.85rem;
    transition: background 0.12s ease, border-color 0.12s ease;
  }

  .dash__featured:hover {
    background: var(--current-line);
    border-color: var(--comment);
    text-decoration: none;
    color: var(--fg);
  }

  .dash__featured-label {
    color: var(--orange);
    font-style: italic;
  }

  .dash__featured-file {
    color: var(--green);
  }

  /* ---- Footer ---- */

  .dash__footer {
    margin-top: 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
  }

  .dash__quote {
    color: var(--comment);
    font-style: italic;
    font-size: 0.85rem;
  }

  .dash__attr {
    color: var(--comment);
    font-size: 0.78rem;
    opacity: 0.7;
  }

  .dash__version {
    color: var(--current-line);
    font-size: 0.7rem;
    margin-top: 0.5rem;
  }

  .dash__version kbd {
    color: var(--purple);
    font-family: inherit;
  }

  /* ---- Responsive ---- */

  @media (max-width: 520px) {
    .dash__art {
      flex-direction: column;
      align-items: center;
      gap: 0.8rem;
      max-width: 100%;
      overflow: hidden;
    }

    .dash__art pre {
      font-size: 0.48rem;
    }

    .dash__name {
      font-size: 1.2rem;
    }

    .dash__item {
      padding: 0.45rem 0.6rem;
      gap: 0.5rem;
    }

    .dash__file {
      width: 15ch;
      font-size: 0.85rem;
    }

    .dash__desc {
      font-size: 0.75rem;
    }
  }

  @media (max-width: 380px) {
    .dash__art pre {
      font-size: 0.38rem;
    }

    .dash__file {
      width: auto;
    }

    .dash__desc {
      display: none;
    }
  }
</style>
